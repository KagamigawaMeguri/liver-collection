!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=24)}([,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.uploadToServer=function(e,t,n){if(e){var o={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}};o=Object.assign(o,t),fetch(e,o).then(function(e){return e.text()}).then(function(e){return n(e)}).catch(function(e){console.log(e)})}},t.getByCookie=function(e,t,n){if(e){var o={credentials:"include"};o=Object.assign(o,t),fetch(e,o).then(function(e){return e.json()}).then(function(e){return n(e)}).catch(function(e){console.log(e)})}},t.postByCookie=function(e,t,n){if(e){var o={method:"POST",credentials:"include",headers:{"Content-Type":"application/json; charset=UTF-8"}};o=Object.assign(o,t),fetch(e,o).then(function(e){return console.log(e),e.text()}).then(function(e){console.log(e),n(JSON.parse(e))}).catch(function(e){console.log(e)})}},t.dispatchInjectToContentScript=function(e){return document.getElementById("init_window").dispatchEvent(new CustomEvent("inject_to_content_script",{detail:e}))},t.dispatchContentScriptToInject=function(e){return document.getElementById("init_window").dispatchEvent(new CustomEvent("content_script_to_inject",{detail:e}))}},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var o=n(25),r=n(26),a=n(27),s=n(28),c=n(29),i=n(30);(0,n(31).injectScript)(chrome.extension.getURL("/inject.js")),(0,o.initStyles)(),(0,o.checkMenus)(),(0,r.initRoomSearch)(),(0,s.initGacha)(),(location.href.includes("raidfinder")||location.href.includes("tbw"))&&(0,a.listenClipBoardBattleCheck)(),(0,i.bindKeyBoardListener)(),document.getElementById("init_window").addEventListener("inject_to_content_script",function(e){var t=e.detail,n=t.message,o=t.data,r=t.url,s=t.count,c=t.error,l=t.status;switch(n){case"getBattleRoomHref":chrome.extension.sendMessage({message:"battle_room_href",url:r});break;case"to_useBp":(0,a.useBp)(s);break;case"do_useBp":chrome.extension.sendMessage({message:"redo_battle_room_href_check"});break;case"do_useAp":(0,i.entryScene)();break;case"notify_error":chrome.extension.sendMessage({message:"notify_error",data:o});break;case"do_getMemberId":chrome.extension.sendMessage({message:"do_getMemberId",data:o});break;case"inject_ajax_error":chrome.extension.sendMessage({message:"inject_ajax_error",error:c});break;case"check_has_hl":chrome.extension.sendMessage({message:"is_has_hl",status:l})}}),chrome.runtime.onConnect.addListener(function(e){switch(e.name){case"popup_to_content":e.onMessage.addListener(function(t){var n=t.zoom,l=t.message,u=t.search,d=t.type,m=t.status,f=t.battleId,h=t.groupId;t.interval;switch(l){case"set_zoom":(0,o.setZoom)(n);break;case"open_coopraid_search":(0,r.roomObserve)(u);break;case"close_coopraid_search":break;case"isCharacterPage":e.postMessage({flag:(0,r.isCharacterPage)()});break;case"check_ub_characters":e.postMessage({datas:(0,r.checkCharacters)()});break;case"sider_status":"isLeftSiderShow"==d?(0,o.controlLeftSider)(m):(0,o.controlRightSider)(m);break;case"checkBlackList":e.postMessage({datas:(0,r.checkCharacters)()});break;case"scroll_style_status":m?(0,o.initScrollHoverContainer)():(0,o.removeEvent)();break;case"battle_key_check":(0,a.getBattleRoomHref)(f);break;case"to_be_a_eunuch":(0,s.controlGacha)(m);break;case"init_eunuch":(0,s.initGacha)();break;case"check_homework":(0,c.getMemberId)(h);break;case"listen_to_key_board":(0,i.bindKeyBoardListener)();break;case"show_your_wife":(0,o.hideMenus)(m?"none":"");break;case"redo_entry_scene":(0,i.beforeEntryScene)();break;case"check_has_hl":(0,a.checkHasHL)()}})}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=["prt-user-menu","prt-user-power","prt-banner","btn-switch-sound btn-bgm-change","prt-active-support","btn-scene-control se-ok","prt-user-status","prt-link-multi assist","prt-link-quest","prt-link-present","prt-link-notification got-message"],r=function(){var e=document.getElementById("liver-collection-container"),t=document.createElement("div");t.id="scrollHoverContainer",t.style.cssText="position:fixed;right:0px;top:0px;width:30px;height:100%;",e.appendChild(t),t.addEventListener("mouseover",a.bind(void 0),!1)},a=function(e){var t=document.getElementById("scrollHoverContainer"),n=document.getElementById("liver-collection-container")||document.getElementById("liver-collection-container-hover");n.id="liver-collection-container-hover",t.style.display="none",setTimeout(function(){n.id="liver-collection-container",t.style.display="block"},3e3)},s=function(e){var t=document.getElementById("mobage-game-container").parentNode.parentNode.firstChild,n=document.getElementById("mobage-game-container").parentNode;e?(t.style.display="block",n.style.marginLeft="64px"):(t.style.display="none",n.style.marginLeft="0px")},c=function(e){document.getElementById("submenu").style.display=e?"block":"none"},i=function(e){var t=document.getElementById("mobage-game-container");t&&(t.style.zoom=e)},l=function(e){var t=void 0;t=setInterval(function(){"none"==document.getElementById("loading").style.display&&(!function(){var n=!0,r=!1,a=void 0;try{for(var s,c=o[Symbol.iterator]();!(n=(s=c.next()).done);n=!0){var i=s.value;try{document.getElementsByClassName(i)[0].style.display=e}catch(e){t&&(clearInterval(t),t=null),console.error(i,e)}}}catch(e){r=!0,a=e}finally{try{!n&&c.return&&c.return()}finally{if(r)throw a}}}(),clearInterval(t))},800)};t.initStyles=function(){document.getElementById("mobage-game-container")&&(document.getElementById("mobage-game-container").parentNode.id="liver-collection-container",chrome.extension.sendMessage({message:"get_scroll_options"},function(e){e.status&&r()}),chrome.extension.sendMessage({message:"get_sider_options"},function(e){var t=e.left,n=e.right;!t&&s(t),!n&&c(n)}))},t.initZoom=function(){chrome.extension.sendMessage({message:"get_zoom"},function(e){var t=e.zoom;i(t)})},t.setZoom=i,t.controlLeftSider=s,t.controlRightSider=c,t.initScrollHoverContainer=r,t.removeEvent=function(){var e=document.getElementById("scrollHoverContainer");e.parentNode.removeChild(e)},t.hideMenus=l,t.checkMenus=function(){chrome.extension.sendMessage({message:"is_show_wife"},function(e){e.status&&location.hash.includes("mypage")&&l("none")})}},function(e,t,n){"use strict";var o=null,r=function(e){var t=document.getElementsByClassName("prt-wanted-list")[0];t&&(o||((o=new MutationObserver(function(n){for(var o=document.getElementsByClassName("txt-room-comment"),r=[],a=0,s=o.length;a<s;a++)for(var c=o[a].innerText,i=e.split(";"),l=0,u=i.length;l<u;l++){var d=i[l];c.includes(d)&&l==u-1&&r.push(a)}for(var m=0,f=t.children.length;m<f;m++){var h=t.children[m];h.style.display="none";for(var g=0,p=r.length;g<p;g++)m==r[g]&&(h.style.display="")}})).observe(t,{attributes:!0,childList:!0,characterData:!0}),console.log("observer start")))},a=function(e){e.disconnect(),console.log("observer end")};e.exports={roomObserve:r,roomObserveBreaker:a,initRoomSearch:function(){location.href.includes("coopraid")&&chrome.extension.sendMessage({message:"get_search"},function(e){var t=e.search,n=new MutationObserver(function(e){document.getElementsByClassName("prt-wanted-list")[0]&&(r(t),a(n))});n.observe(document.getElementsByTagName("body")[0],{attributes:!0,childList:!0,characterData:!0})})},isCharacterPage:function(){return!!document.getElementsByClassName("btn-lis-user").length},checkCharacters:function(){var e=[],t=!0,n=!1,o=void 0;try{for(var r,a=document.getElementsByClassName("btn-lis-user")[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var s=r.value.dataset,c=s.nickName,i=s.userId,l=s.userRank;e.push({nickName:c,userId:i,userRank:l})}}catch(e){n=!0,o=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw o}}return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkHasHL=t.listenClipBoardBattleCheck=t.getBattleRoomHref=void 0;var o=n(5);t.getBattleRoomHref=function(e){(0,o.dispatchContentScriptToInject)({message:"getBattleRoomHref",data:e})},t.listenClipBoardBattleCheck=function(){var e=null;e=setInterval(function(){var t=document.getElementsByClassName("gbfrf-tweets");if(t.length>0){var n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0)a.value.addEventListener("click",function(e){chrome.extension.sendMessage({message:"listenClipBoardBattleCheck"})})}catch(e){o=!0,r=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw r}}clearInterval(e)}},800)},t.checkHasHL=function(){(0,o.dispatchContentScriptToInject)({message:"checkHasHL"})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){var t=document.getElementsByClassName("btn-gacha"),n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){a.value.style.visibility=e?"hidden":""}}catch(e){o=!0,r=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw r}}};t.initGacha=function(){chrome.extension.sendMessage({message:"isEunuch"},function(e){var t=e.status,n=null;location.hash.includes("gacha")&&(n=setInterval(function(){document.getElementsByClassName("btn-gacha").length>0&&(o(t),clearInterval(n))},800))})},t.controlGacha=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMemberId=void 0;var o=n(5);t.getMemberId=function(e){var t;t=e?"/guild_other/member_list/@/"+e:"/guild_main/guild_member_list/@",(0,o.dispatchContentScriptToInject)({message:"getMemberId",url:t})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindKeyBoardListener=t.entryScene=t.beforeEntryScene=void 0;var o=n(5),r=function(){chrome.extension.sendMessage({message:"get_ap_limit"},function(e){var t=e.limit;e.href&&(0,o.dispatchContentScriptToInject)({message:"get_status",url:"/user/status",data:{limit:t}})})},a=function(e){switch(e.keyCode){case 70:location.reload();break;case 68:r()}};t.beforeEntryScene=r,t.entryScene=function(){chrome.extension.sendMessage({message:"get_scene_href"},function(e){var t=e.href;location.href=t})},t.bindKeyBoardListener=function(){chrome.extension.sendMessage({message:"get_key_board_listener_status"},function(e){var t=e.status;window.onkeydown=function(e){return t?a(e):null}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.injectScript=function(e){var t=document.getElementsByTagName("body")[0],n=document.createElement("script");n.setAttribute("type","text/javascript"),n.setAttribute("src",e);var o=document.createElement("script");o.id="init_window",t.appendChild(n),t.appendChild(o)}}]);